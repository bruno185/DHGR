
* ROM routines
        lst off
*
home    equ $FC58
text    equ $FB2F
col80off equ $C00C
col80on  equ $C00D
cout    equ $FDED
vtab    equ $FC22
getln   equ $FD6A
bascalc equ $FBC1
cr      equ $FD8E      ; print carriage return
clreop  equ $FC42      ; clear from cursor to end of page
clreol  equ $FC9C      ; clear from cursor to end of line
xtohex  equ $F944
rdkey   equ $FD0C      ; wait for keypress
auxmov  equ $C311
xfer    equ $C314
wait    equ $FCA8
*
* ROM switches
*
stor80   equ $C001
graphics equ $C050
mixoff   equ $C052
hires    equ $C057
dhgr     equ $C05E
page1    equ $C054
page2    equ $C055
clr80col equ $C000
vbl      equ $C019
kbd      equ $C000
kbdstrb  equ $C010
*
ptr     equ $06
ptr2    equ $08

* run this program after having bloaded a DHGR image in $2000
* it does :
* move $2000-$3FFF (main) ==> $2000 (aux)
* move $4000-$5FFF (main) ==> $2000 (main)
* since a DHGR file have aux memory data first 
* then main memory data.
* http://wsxyz.net/tohgr.html

        org $8000
*    
        lda mains       ; begining of memory to tranfer 
        sta $3C
        lda mains+1
        sta $3D
*
        lda maine       ; end of memory to tranfer
        sta $3E
        lda maine+1
        sta $3F
*
        lda auxs        ; detination address   
        sta $42
        lda auxs+1
        sta $43
        sec
        jsr auxmov      ; tranfer to  aux. mem.
*
* move page 2 to page1 (in main)
*
        lda #$00
        sta ptr
        sta ptr2
        lda #$40
        sta ptr+1
        lda #$20
        sta ptr2+1
        ldy #$00
loop    lda (ptr),y
        sta (ptr2),y
        iny
        bne loop
        inc ptr+1
        inc ptr2+1
        lda ptr2+1
        cmp #$40
        bne loop


        STA $C050 ;TURN ON GRAPHICS
        STA $C057 ;TURN ON HIRES
        STA mixoff ;TURN ON FULLSCREEN
        STA $C05E ;TURN ON DHR
        STA $C00D ;TURN ON 80 COLUMNS
        STA $C001 ;TURN ON 80STORE
        STA $C055 ;TURN ON PAGE2

        rts

mains   hex 0020        ; start address in main
maine   hex FF3F        ; $ 3FFF = end address in main 
auxs    hex 0020

* Width: $33 bytes  Height: $56 lines
 hex 000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
 hex 000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
 hex 000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
 hex 000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
 hex 000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
 hex 000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
 hex 000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
 hex 000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
 hex 000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
 hex 000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
 hex 000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
 hex 000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
 hex 000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
 hex 000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
 hex 000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
 hex 000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
 hex 000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
 hex 000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
 hex 000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
 hex 000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
 hex 000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
 hex 000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
 hex 0000000000000000000000000000000000000000000000003300CC000000000000000000000000000000000000000000000000
 hex 000000000000000000000000000000000000000000000000006699990000000000000000000000000000000000000000000000
 hex 0000000000000000000000000000000000000000000000000033FF00CC00000000000000000000000000000000000000000000
 hex 0000000000000000000000000000000000000000000000000000FFFF0000003300000000000000000000000000000000000000
 hex 000000000000000000000000000000000000000000000000000000FFFF00000066000000000000000000000000000000000000
 hex 00000000000000000000000000000000000000000000000000003300FF990000CC000000000000000000000000000000000000
 hex 0000000000000000000000000000660000000000000000000000003333CCFF0000660000000000000000000000000000000000
 hex 0000000000000000000000003300FF00FF00FF00CC00000000000000FFFFCCFF00CC3300000000000000000000000000000000
 hex 000000000000000000003300FF0033FFFFFFFFFF00FF00000000000066FFFF99FF0000CC000000000000000000000000000000
 hex 00000000000000003300FF00FF33CCFFFFCCFFFFFFCCFFFF000000006633FFFFCC3300CC000000000000000000000000000000
 hex 000000000000000000FF33FF00FFFFFF33FFFFFFFFFF99FF99CC0000CC33FF33CCCC3300CC0000000000000000000000000000
 hex 0000000000003300FF00FF33FF33FFFFCCFFFF33CCFFFFFF00FF003300FF33FFFFCCFF00FF0000000000000000000000000000
 hex 000000000000FF3300FF3399FFFFFFFFFFFFFFFFFFFFFFFFFFCCCC00FF00FFCCFFFFFFFF00FF00000000000000000000000000
 hex 000000003300FF00FF33CCFFFFCCFFFF33FF33CCFFFF33CCFFFF00FF00FF33FFFF99FFFFFF99FF000000000000000000000000
 hex 000066003300FF33FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF00FF00FF33CCFFFFCCFFFFCCCC0000000000000000000000
 hex FF0000FF00FF33CCFFFF33FF99FFFFFF99FFFFFF99FFFFFFFF33CCFFFF00CCFFFFFF66FFFFFFFF00CC00000000000000000000
 hex 00333300FF33FFFFFFFFFFFFFFFF66FFFF99FFFF33CCFFFFFFFFFFCCFFFF33FF66FFFFFF33CCFFFF0000000000000000000000
 hex 00FF00FF33CCFFFFCCFFCCFFFFFFCCFFFFFFFFFFFFFFFF99FFFFFFFFFFFF99FFFF99FFFFFFFFFF99FF00000000000000000000
 hex 00FF33FFFFFF99FFFFFFFFFF33FFFFFF33FF33CCFFFF33FFCCFFFF33CCFFFFCCFFFFCCFFFF33FF669900000000000000000000
 hex FFFFFF99FFFFFF33FFFF33FFFF99FFFFFFFFFFFFFFFFCCFFFF66FFFFFFFF33FF66FFFFFFCCFFCCFFFF00000000000000000000
 hex FFFFFFFFFF33CCFFFFFFFFFFFFFFFFFF99FFFFFF99FFFFFFFFFF99FFFFFFFFFFCCFF33FFFF33FFCCFF00000000000000000000
 hex FFFFFFFFCCFF33CCFFCCFFCCFFFF33FFFF99FFFF33FFFF33CCFFFFFF33CCFFFFFFFFCCFF00FF33FFCCFF000000000000000000
 hex FFCCFF33FFFFFFFFCCFFFF66FFFF99FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF66FFFFFFFFFFCCFFFF9999000000000000000000
 hex FF33CCFFFF00FFFF33CCFFFFFFFFFFFFFF66FFCCFFFFCCFFFF33CCFFFF33FFFFCCFF33CCFF33CC66FF99000000000000000000
 hex 00FF3300FFFF00FFFF33FF99FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF99FF99FFFFFFFF00FFFF00FFFF000000000000000000
 hex FF00FF00FF00FF00FFFF33FFCCFFFF33CCFFFF99FFFFFF6699FFFF33FFFFCCFFFF99FF99FF6699FF00CC000000000000000000
 hex FFFF00FF00FFFFFFFFCCFFFFFFFF99FFFF33FFFFFF33FFFFFFFFFF99FFFFFFFFFF33FFCCFFFF33CCFF00CC0000000000000000
 hex FF00FF00FF33FFFFFFFFFFFF33FFFF33CCFFFFFFFFFFCCFFFF33CCFFFF33FF33FFCCFFFF00FFCCFF00FF000000000000000000
 hex 00FF00FFFFFF99FFFFFFFFFFCCFFCCFFFF33FFFF99FFFFFFFFFFFFFFFFFFFFFFFFFFFF99FF33FF00FFFF00CC00000000000000
 hex 00FF3300FFFFFFFF33CCFFFF33FF33CCFFCCFFFFFFCCFFFF00FFFFCCFFCCFFCCFFFF33CCFF00FFFF33CCFF0000000000000000
 hex FF00FF00FFFFFFFFFFFFFFCCFFCCFF33FF33CCFF33FFFFFFFFFFFFFFFFFFFFFF66FFFFFFCCCC3300FF33CC0000000000000000
 hex FF00FF00FF00FFFFFF33FF33FF00FF00FFFFFF00FF00FFFF33CCFFFF33CCFFFFFF99FFFFFF990000FFFF00CC00000000000000
 hex 003300FF003300FFCCFFCCFF00FFFF00FF00CCFF33FFCCFFFFFFFFFFFFFF99FFCCFFFF33FFCCFF3300FFFF0000000000000000
 hex CC00FF00FF00CC33FF003300FF00FF00FFFF00FFCCFF33FF33CCFFFFFF33FFFFFFFFFF99FFFF99FFFF33CCFF00000000000000
 hex FF00FF00FF00FF0000CC00FF33FF00FF00FF00FF33CCFF00FFFFFF33FFCCFFFF33CCFFFFFF33FF66FFFFFFCC33000000000000
 hex 99FFFF99FF0000CC3300FF00FF00FF00FF00FFFFFF00FFFFFFFFFFCCFFFF33CCFFFFFF33FFFFFFCCFFFF33CCCC000000000000
 hex 33CCFF00CC330000CC3300FF00FF00FF00FF00FF00FFFF33FF66FFFFFFCCFF33FFFFFF99FFFFFFFF33FFFFFFFF00CC00000000
 hex FF00FF0000CC330000FF00FF00FF00FF33FF33CCFF33CCFFCCFFFF33FFFFCCFF00FFFFFF33CCFFFF99FFFFFF99990000000000
 hex CCFF00CC000000FF3300FF00FF00FF00FFCCFF00FFFF33FF00FFFFCCFF00FF00FF33CCFFFF33FF33CCFF33CCFFFF0000000000
 hex CCFF003300330000FF33FF00FF00FF33FF00FF33CCFF00FF33FFFFFFFF00FFFF00FFFF33CCFFCCFFFF99FFFFFF66FF00000000
 hex 00FF00FF00003300FFCCFF00FF00FFCCFF00FFFF33CCFF33CCFF33FF33FF00FF33FF33FFFF33FF3300FF33FFFFFFCCFF000000
 hex FF00FF00CC00FF33FF33FF00FF00FF00FFFF33CCFF00FFFF33CCFFCCFF00FF00FF00FFCCFFFF00FF3300FF33CCFFFF99FF0000
 hex FFCCFF00FF0000FF00FF00FF00FF00FF00FFFF00FF3300CCFFFF00FFFF00FF00CCFF33FF00FF0000FF333300FF33FFFF00CC00
 hex FF33CCFF00FF00FF00CC00FF00FF00FF33CCFF33CCFF33FF33CCFF33CCFF00FF00FF00FFFFCC3300000066333300FF33FF0000
 hex FFFFCCFF00FF00FF003300CC3300FF00FF33CCFF00FF00FFCCFF00FF33CC33003300FF33FF00CC9900000000CCFF00FFFF0000
 hex CCFFFFCCFF00CC3300FF00FF00FF00FFCCFF00FF33CCFFFF00FF33CCFFFF00CC00FF00FF33FF33330000000033333300FF0000
 hex FFFFFFFF00FF00CC3300CC3300FF3333FF33CCFF00FFFF00FF00FF33CCFF00333300FF00FFFFCCFF330000000033333300CC00
 hex FFFFFF99FF00FF0000FF00FF0000FFCCFF00FFFF33FFCCFF00FF33FF00FF00CC000000FF00FF99999900990000000099000000
 hex FFCCFFFF00FF00FF00330000FF00FF00FF00FF33CCFF00FF00FF00FFFF00330033003300FF00FFFFFF00000000330000000000
 hex FFFFFF99FFFF00FF00CC00FF00FF33FF00FFCCFF33FF00FF00FF00FF00CC00000033000033333300FFFF330000000000000000
 hex FFFFFFFF33FFCCFF00330000FF00FF00FF33FF00FF00FF00FF00FF330033000099000000000000FF33CCCC3300000000000000
 hex 33FF33FFCCFFFF00FF00FF0000FF00FF33FF00FF00FF00FF00FF00FF000000000000000000000000FF3300CC00000000000000
 hex CCFFCCFFFF00FFCCFF003300FF00FF33CCFF00CC3300FF3333FF0000FF000000000000000000000000FF330000000000000000
 hex 3300FFFFFFFF00FF00FF00FF00FF3300FF00FF00FF3300CC00FF33000000000000000000000000000000000000000000000000
 hex 33FF33FFFFFFFF00FF00FF00FF00FF00FF0000FF00FF0033009900990000000000000000000000000000000000000000000000
 hex FF00FFFFCCFFCCFFCC3300FF3300FF3300FF0000FF0000FF00FF00000000000000000000000000000000000000000000000000
 hex 33FF33FF33FF33CCFF00FFFF00FF00CC33003333003300FF0000FF000000000000000000000000000000000000000000000000
 hex 3300FFFFCCFFFF00FF33CC3300FF330000FF0000FF00FF0000FF00000000000000000000000000000000000000000000000000
 hex 00FF33FFFFFFFFFF00FFCCFF0000CC333300FF3300FF0000FF0000000000000000000000000000000000000000000000000000
 hex 3333FF33FFFFCCFFFF33FF00FF0000FF00FF00FF3300FF003300CC000000000000000000000000000000000000000000000000
 hex 00FF33CCFFFF33CCFFFFCCFFCCFF00FF33003300FF003300FF00CC000000000000000000000000000000000000000000000000
 hex 0000FFFF33FFCCFFFFFFFF33FFCCFF00FFCCCC330000FF00339900000000000000000000000000000000000000000000000000
 hex CC3333CCFFFFFF99FFFF99FF33FFCCFFFF00FF00FF0000FF3399FF000000000000000000000000000000000000000000000000
 hex 0033333333CCFF33FFFF33CCFF33FFCCFFCCFF00FF00FF0033FF99009900000000000000000000000000000000000000000000
